<!DOCTYPE html>
<html>
<head>
  <title>Leaflet Map</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <style>
    #map { height: 600px; width: 100%; }
  </style>
</head>
<body>
  <div id="map"></div>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    const projects = [
      { Client: '3780 Bayridge, West Vancouver', Department: 'Urban Forestry/FireSmart', Latitude: 49.3441666666667, Longitude: -123.22, Type: 'Arborist Report' },
      { Client: 'ABCFP', Department: 'Niche', Latitude: 49.2880555555556, Longitude: -123.126388888889, Type: 'Committee, Training' },
      { Client: 'Alberni-Clayoquot Regional District', Department: 'Planning', Latitude: 49.0763888888889, Longitude: -125.766666666667, Type: 'CWRP' },
      { Client: 'Askari, Pooneh', Department: 'Urban Forestry/FireSmart', Latitude: 49.3763888888889, Longitude: -123.29, Type: 'WHA' },
      { Client: 'BCIT', Department: 'GIS', Latitude: 49.0158333333333, Longitude: -121.071388888889, Type: 'UAV' },
      // Add remaining data here
      //...
    ];

    // Complete projects array
    const completeProjects = [
        { Client: '3780 Bayridge, West Vancouver ', Department: 'Urban Forestry/FireSmart', Latitude: 49.3441666666667, Longitude: -123.22, Type: 'Arborist Report' },
        { Client: 'ABCFP', Department: 'Niche', Latitude: 49.2880555555556, Longitude: -123.126388888889, Type: 'Committee, Training' },
        { Client: 'Alberni-Clayoquot Regional District', Department: 'Planning', Latitude: 49.0763888888889, Longitude: -125.766666666667, Type: 'CWRP' },
        { Client: 'Askari, Pooneh', Department: 'Urban Forestry/FireSmart', Latitude: 49.3763888888889, Longitude: -123.29, Type: 'WHA' },
        { Client: 'BCIT', Department: 'GIS', Latitude: 49.0158333333333, Longitude: -121.071388888889, Type: 'UAV' },
        { Client: 'City of Burnaby', Department: 'Urban Forestry/FireSmart', Latitude: 49.2480555555556, Longitude: -122.980555555556, Type: 'ARB' },
        { Client: 'City of Coquitlam', Department: 'Urban Forestry/FireSmart', Latitude: 49.2841666666667, Longitude: -122.798888888889, Type: 'Public Education' },
        { Client: 'City of North Vancouver', Department: 'Urban Forestry/FireSmart', Latitude: 49.3116666666667, Longitude: -123.069444444444, Type: 'FIRE' },
        { Client: 'City of Richmond', Department: 'Urban Forestry/FireSmart', Latitude: 49.1683333333333, Longitude: -123.136111111111, Type: 'Public Education' },
        { Client: 'City of Surrey', Department: 'Urban Forestry/FireSmart', Latitude: 49.1066666666667, Longitude: -122.823611111111, Type: 'Public Education' },
        { Client: 'City of Vancouver', Department: 'Urban Forestry/FireSmart', Latitude: 49.2827777777778, Longitude: -123.120555555556, Type: 'FIRE' },
        { Client: 'City of White Rock', Department: 'Urban Forestry/FireSmart', Latitude: 49.0252777777778, Longitude: -122.801666666667, Type: 'FIRE' },
        { Client: 'Cody, Travis', Department: 'Urban Forestry/FireSmart', Latitude: 49.2683333333333, Longitude: -123.015277777778, Type: 'Public Education' },
        { Client: 'Coquitlam Search and Rescue', Department: 'Urban Forestry/FireSmart', Latitude: 49.2841666666667, Longitude: -122.798888888889, Type: 'FIRE' },
        { Client: 'Corporation of Delta', Department: 'Urban Forestry/FireSmart', Latitude: 49.0844444444444, Longitude: -123.058888888889, Type: 'FIRE' },
        { Client: 'Cypress, West', Department: 'Urban Forestry/FireSmart', Latitude: 49.3788888888889, Longitude: -123.206944444444, Type: 'Public Education' },
        { Client: 'Dovetail Consulting', Department: 'Urban Forestry/FireSmart', Latitude: 49.2580555555556, Longitude: -123.099444444444, Type: 'FIRE' },
        { Client: 'City of Maple Ridge', Department: 'Urban Forestry/FireSmart', Latitude: 49.2194444444444, Longitude: -122.601388888889, Type: 'Public Education' },
        { Client: 'Dees, Ed', Department: 'Urban Forestry/FireSmart', Latitude: 49.1961111111111, Longitude: -122.85, Type: 'Public Education' },
        { Client: 'District of North Vancouver', Department: 'Urban Forestry/FireSmart', Latitude: 49.3219444444444, Longitude: -123.0725, Type: 'FIRE' },
        { Client: 'District of Sechelt', Department: 'Urban Forestry/FireSmart', Latitude: 49.4744444444444, Longitude: -123.757777777778, Type: 'FIRE' },
        { Client: 'District of Squamish', Department: 'Urban Forestry/FireSmart', Latitude: 49.7016666666667, Longitude: -123.155555555556, Type: 'FIRE' },
        { Client: 'District of West Vancouver', Department: 'Urban Forestry/FireSmart', Latitude: 49.3269444444444, Longitude: -123.159166666667, Type: 'FIRE' },
        { Client: 'FVRD', Department: 'Urban Forestry/FireSmart', Latitude: 49.0536111111111, Longitude: -122.305833333333, Type: 'FIRE' },
        { Client: 'Faber, Sarah', Department: 'Urban Forestry/FireSmart', Latitude: 49.2069444444444, Longitude: -122.924444444444, Type: 'Public Education' },
        { Client: 'Greater Vancouver Regional District', Department: 'Urban Forestry/FireSmart', Latitude: 49.2880555555556, Longitude: -122.801666666667, Type: 'FIRE' },
        { Client: 'Island, Vancouver', Department: 'Urban Forestry/FireSmart', Latitude: 49.6505555555556, Longitude: -125.250833333333, Type: 'FIRE' },
        { Client: 'Kalthoff, Bruce', Department: 'Urban Forestry/FireSmart', Latitude: 49.0688888888889, Longitude: -123.084722222222, Type: 'Public Education' },
        { Client: 'Langara College', Department: 'Urban Forestry/FireSmart', Latitude: 49.2255555555556, Longitude: -123.048333333333, Type: 'Public Education' },
        { Client: 'Nanaimo, BC', Department: 'Urban Forestry/FireSmart', Latitude: 49.1658333333333, Longitude: -123.940277777778, Type: 'FIRE' },
        { Client: 'NSRP', Department: 'Urban Forestry/FireSmart', Latitude: 49.3438888888889, Longitude: -123.101111111111, Type: 'Public Education' },
        { Client: 'Richmond Search and Rescue', Department: 'Urban Forestry/FireSmart', Latitude: 49.1683333333333, Longitude: -123.136111111111, Type: 'Public Education' },
        { Client: 'Shumaker, Christina', Department: 'Urban Forestry/FireSmart', Latitude: 49.3105555555556, Longitude: -122.855833333333, Type: 'Public Education' },
        { Client: 'Squamish Nation', Department: 'Urban Forestry/FireSmart', Latitude: 49.7069444444444, Longitude: -123.153888888889, Type: 'Public Education' },
        { Client: 'Sullivan, Debbie', Department: 'Urban Forestry/FireSmart', Latitude: 49.3444444444444, Longitude: -123.156111111111, Type: 'Public Education' },
        // Add more data here
    ];
    // Initialize the map
    const map = L.map('map').setView([49.25, -123.12], 10); // Centered at Vancouver as an example
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    // Add circle markers
    projects.forEach(client => {
      L.circleMarker([client.Latitude, client.Longitude], {
        color: client.Department === "Urban Forestry/FireSmart" ? "red" :
               client.Department === "Niche" ? "blue" :
               client.Department === "Planning" ? "green" :
               client.Department === "GIS" ? "purple" :
               client.Department === "Innovations" ? "orange" :
               client.Department === "Prescriptions/Ops" ? "yellow" : "black",
        radius: 5
      }).addTo(map)
      .bindPopup(`<b>Client:</b> ${client.Client}<br><b>Department:</b> ${client.Department}<br><b>Type:</b> ${client.Type}`)
      .bindTooltip(client.Client);
    });

    // Add legend
    const legend = L.control({ position: 'bottomright' });
    legend.onAdd = function(map) {
      const div = L.DomUtil.create('div', 'info legend');
      const departments = ["Urban Forestry/FireSmart", "Niche", "Planning", "GIS", "Innovations", "Prescriptions/Ops"];
      const colors = ["red", "blue", "green", "purple", "orange", "yellow"];
      for (let i = 0; i < departments.length; i++) {
        div.innerHTML += `<i style="background: ${colors[i]}"></i> ${departments[i]}<br>`;
      }
      return div;
    };
    legend.addTo(map);
  </script>
</body>
</html>
